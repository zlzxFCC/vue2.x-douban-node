webpackJsonp([2,0],[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=i(135),o=n(s),a=i(27),r=(n(a),i(47)),u=n(r),c=i(28),l=n(c),d=i(46),v=n(d),f=i(73),m=n(f),_=i(75),h=n(_);u.default.use(o.default);var p=new o.default({routes:m.default});new u.default({router:p,store:h.default,axios:l.default,render:function(t){return t(v.default)}}).$mount("#app")},,,,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function s(t){return new l.default(function(e,i){v.default.get(f+t).then(function(t){e(t.data)})})}function o(t){return s(""+t)}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return o("/movie/"+t+"?start="+e+"&count="+i)}function r(t){return s("/movie/subject/"+t)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=encodeURI("/movie/search?q="+t+"&start="+e);return s(i)}Object.defineProperty(e,"__esModule",{value:!0}),e.API_TYPE=void 0;var c=i(77),l=n(c);e.fetch=s,e.fetchItemByType=o,e.fetchMoviesByType=a,e.fetchMovieById=r,e.fetchSearchMovies=u;var d=i(28),v=n(d),f="https://node-douban-api.herokuapp.com";e.API_TYPE={movie:{in_theaters:"in_theaters",coming_soon:"coming_soon"}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.FETCH_MOVIES="movie/FETCH_MOVIES",e.FETCH_MOVIE_LIST="movie/FETCH_MOVIE_LIST",e.FETCH_MOVIE_BY_ID="movie/FETCH_MOVIE_BY_ID",e.SET_INFINITE_BUSY="movie/SET_INFINITE_BUSY",e.CLEAN_MOVIES="movie/CLEAN_MOVIES",e.CLEAN_MOVIE_LIST="movie/CLEAN_MOVIE_LIST",e.CLEAN_MOVIE="movie/CLEAN_MOVIE"},,,,,,,function(t,e,i){i(118);var n=i(4)(i(67),i(133),null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){i(114);var n=i(4)(i(65),i(127),null,null);t.exports=n.exports},,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(122),o=n(s),a=i(121),r=n(a),u=i(125),c=n(u),l=i(124),d=n(l),v=i(123),f=n(v),m=i(126),_=n(m);e.default={name:"app",components:{vHeader:o.default,Hello:r.default,Movies:c.default,MovieList:d.default,MovieDetail:f.default,SearchList:_.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"hello",data:function(){return{msg:"Welcome to Your Vue.js App"}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["show"]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{query:"",placeholder:"",path:"search-movie"}},mounted:function(){"index"===this.$route.path||this.$route.path.indexOf("movie")?this.path="/movie/search":this.$route.path.indexOf("book")&&(this.path="/book/search")},methods:{search:function(){this.$router.push({path:this.path,query:{query:this.query}}),this.query=""}}}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),a=s(o),r=i(10),u=(n(r),i(9));e.default={components:{Spinner:a.default},data:function(){return{loading:!0,id:"",movie:{}}},computed:{getMeta:function(){var t=this.movie.casts.reduce(function(t,e){return t?t+" / "+e.name:e.name},"");return this.movie.countries.join(" / ")+" / "+this.movie.genres.join(" / ")+" / "+this.movie.directors[0].name+"(导演) / "+t},getOriginalTitle:function(){return new RegExp(/([A-Za-z])/g).test(this.movie.original_title)?this.movie.original_title:""}},mounted:function(){var t=this;this.id=this.$route.params.id,(0,u.fetchMovieById)(this.id).then(function(e){t.movie=e,t.loading=!1})}}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),a=s(o),r=i(45),u=s(r),c=i(10),l=(n(c),i(9));e.default={components:{Spinner:a.default},directives:{InfiniteScroll:u.default},data:function(){return{loading:!0,type:"",movieList:{subjects:[]},busy:!1,isScroll:!1}},computed:{},mounted:function(){this.type=this.$route.query.type},methods:{loadMore:function(){var t=this,e=this.movieList.subjects.length;this.busy=!0,this.isScroll=!0,(0,l.fetchMoviesByType)(this.type,e).then(function(e){t.movieList.title=e.title,t.movieList.total=e.total,t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.subjects.length<t.movieList.total&&(t.busy=!1),t.loading=!1,t.isScroll=!1})}},destroyed:function(){}}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),a=s(o),r=(i(27),i(10)),u=(n(r),i(9));e.default={components:{Spinner:a.default},data:function(){return{loading:!0,inTheater:{type:""},comingSoon:{type:""}}},mounted:function(){var t=this,e=0,i=9;(0,u.fetchMoviesByType)(u.API_TYPE.movie.in_theaters,e,i).then(function(e){t.inTheater=e,t.inTheater.type=u.API_TYPE.movie.in_theaters,t.loading=!1}),(0,u.fetchMoviesByType)(u.API_TYPE.movie.coming_soon,e,i).then(function(e){t.comingSoon=e,t.comingSoon.type=u.API_TYPE.movie.coming_soon,t.loading=!1})},updated:function(){},destroyed:function(){}}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=i(17),a=s(o),r=i(45),u=s(r),c=i(10),l=(n(c),i(9));e.default={components:{Spinner:a.default},directives:{InfiniteScroll:u.default},data:function(){return{loading:!0,query:"",movieList:{subjects:[]},busy:!1}},computed:{},mounted:function(){this.query=this.$route.query.query},watch:{$route:"loadAgain"},methods:{loadAgain:function(){this.movieList.subjects=[],this.busy=!1,this.query=this.$route.query.query,this.loadMore()},loadMore:function(){var t=this,e=this.movieList.subjects.length;this.busy=!0,(0,l.fetchSearchMovies)(this.query,e).then(function(e){t.movieList.title=e.title,t.movieList.total=e.total,t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.subjects.length<t.movieList.total&&(t.busy=!1),t.loading=!1})}},destroyed:function(){}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(46),o=n(s);e.default=[{path:"/",component:o.default.components.Movies,name:"index"},{path:"/vuex-demo",component:o.default.components.VuexDemo,name:"vuex-demo"},{path:"/movies",component:o.default.components.Movies,name:"movies"},{path:"/movie/list",component:o.default.components.MovieList,name:"movie-list"},{path:"/movie/subject/:id",component:o.default.components.MovieDetail,name:"movie-detail"},{path:"/movie/search",component:o.default.components.SearchList,name:"movie-search"}]},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o,a,r=i(78),u=s(r),c=i(10),l=n(c),d=i(9),v={movies:[],movieList:{title:"",total:0,subjects:[]},busy:!1,movie:{}},f=(o={},(0,u.default)(o,l.FETCH_MOVIES,function(t,e){(0,d.fetchMoviesByType)(e.type,e.start,e.count).then(function(i){return i.type=e.type,t.commit([l.FETCH_MOVIES],i)})}),(0,u.default)(o,l.FETCH_MOVIE_LIST,function(t,e){(0,d.fetchMoviesByType)(e.type,e.start).then(function(e){return t.commit([l.FETCH_MOVIE_LIST],e)})}),(0,u.default)(o,l.FETCH_MOVIE_BY_ID,function(t,e){(0,d.fetchMovieById)(e).then(function(e){return t.commit([l.FETCH_MOVIE_BY_ID],e)})}),(0,u.default)(o,l.SET_INFINITE_BUSY,function(t,e){t.commit([l.SET_INFINITE_BUSY],e)}),(0,u.default)(o,l.CLEAN_MOVIE,function(t){t.commit(l.CLEAN_MOVIE)}),(0,u.default)(o,l.CLEAN_MOVIES,function(t){t.commit([l.CLEAN_MOVIES])}),(0,u.default)(o,l.CLEAN_MOVIE_LIST,function(t){t.commit([l.CLEAN_MOVIE_LIST])}),o),m=(a={},(0,u.default)(a,l.FETCH_MOVIES,function(t,e){t.movies.push(e)}),(0,u.default)(a,l.FETCH_MOVIE_LIST,function(t,e){t.movieList.title=e.title,t.movieList.total=e.total,t.movieList.subjects=t.movieList.subjects.concat(e.subjects),t.movieList.subjects.length<t.movieList.total&&(t.busy=!1)}),(0,u.default)(a,l.FETCH_MOVIE_BY_ID,function(t,e){t.movie=e}),(0,u.default)(a,l.SET_INFINITE_BUSY,function(t,e){t.busy=e}),(0,u.default)(a,l.CLEAN_MOVIE,function(t){t.movie={}}),(0,u.default)(a,l.CLEAN_MOVIES,function(t){t.movies=[]}),(0,u.default)(a,l.CLEAN_MOVIE_LIST,function(t){t.movieList={}}),a);e.default={state:v,mutations:m,actions:f}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=i(27),o=n(s),a=i(47),r=n(a),u=i(74),c=n(u);r.default.use(o.default),e.default=new o.default.Store({modules:{movie:c.default}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAMAAABFNRROAAAALVBMVEX6+vr19fX9/f37+/v+/v75+fni4+L39/fx8/Hm5+br7Ovb29v////V1dX///98IJfXAAAAD3RSTlP//////////////////wDU3JihAAAAXUlEQVR42j3K0Q7AIAhDUedEoVj+/3MHLtt9aU7SFqHmbhpVC/CEIyVN1UgtGe3uPWeWnNfYY1z0Erl2tsjSJBID7xN0iMCJUhjf/CgwyQlPlkJEWlvJ1FdSUz8RD5YjB2QIqEc+AAAAAElFTkSuQmCC"},function(t,e,i){i(116);var n=i(4)(i(66),i(130),"data-v-678c3b76",null);t.exports=n.exports},function(t,e,i){i(115);var n=i(4)(i(68),i(128),"data-v-18ded60a",null);t.exports=n.exports},function(t,e,i){i(117);var n=i(4)(i(69),i(131),"data-v-6a77d69a",null);t.exports=n.exports},function(t,e,i){var n=i(4)(i(70),i(134),null,null);t.exports=n.exports},function(t,e,i){var n=i(4)(i(71),i(132),null,null);t.exports=n.exports},function(t,e,i){var n=i(4)(i(72),i(129),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-header"),t._v(" "),i("router-view")],1)},staticRenderFns:[]}},function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"TalionNav"}},[t._m(0),t._v(" "),n("div",{staticClass:"search"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.query,expression:"query",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"text",name:"search",placeholder:"请输入搜索内容"},domProps:{value:t.query},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.search():null},input:function(e){e.target.composing||(t.query=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("img",{staticClass:"search-btn",attrs:{src:i(120)},on:{click:function(e){t.search()}}})])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"TalionNav"},[i("div",{staticClass:"TalionNav-primary"},[i("nav",[i("ul",[i("li",[i("a",{staticStyle:{color:"#2384E8"},attrs:{href:"#/movies"}},[t._v("电影")])])]),t._v(" "),i("span",{staticClass:"search"})])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"grid has-search-bar",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[i("h2",[t._v(t._s(t.movieList.title))]),t._v(" "),t.movieList.subjects.length>0?i("div",{staticClass:"card"},t._l(t.movieList.subjects,function(e){return i("router-link",{staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"wp"},[i("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),i("div",{staticClass:"info"},[i("h3",[t._v(t._s(e.title))])])])})):t._e(),t._v(" "),i("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("router-link",{attrs:{to:"/index"}},[t._v("Github Api 示例")]),t._v(" "),i("router-link",{attrs:{to:"/vuex-demo"}},[t._v("Vuex示例")])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},[t.movie.title?i("div",{staticClass:"detail-card"},[i("div",{staticClass:"title"},[t._v(t._s(t.movie.title)+" "+t._s(t.getOriginalTitle))]),t._v(" "),i("div",[i("img",{staticStyle:{width:"100%"},attrs:{src:t.movie.images.large}})]),t._v(" "),i("section",{staticClass:"subject-info"},[t._v(t._s(t.getMeta))]),t._v(" "),i("section",{staticClass:"subject-mark"},[i("div",{staticClass:"mark-item"},[i("a",[i("span",[t._v("想看("+t._s(t.movie.wish_count)+")")])]),t._v(" "),t._m(0)])]),t._v(" "),i("section",{staticClass:"subject-intro"},[i("h2",[t._v(t._s(t.movie.title)+"的剧情介绍")]),t._v(" "),i("div",{staticClass:"bd"},[i("p",[t._v("\n          "+t._s(t.movie.summary)+"\n        ")])])])]):t._e(),t._v(" "),i("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",[i("span",[t._v("看过")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"grid has-search-bar"},[t.inTheater.title?i("div",[i("h2",[t._v(t._s(t.inTheater.title)+"\n        "),i("router-link",{staticClass:"more",attrs:{tag:"span",to:{name:"movie-list",query:{type:t.inTheater.type}}}},[t._v("更多>\n        ")])],1),t._v(" "),i("div",{staticClass:"card"},t._l(t.inTheater.subjects,function(e){return i("router-link",{staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"wp"},[i("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),i("div",{staticClass:"info"},[i("h3",[t._v(t._s(e.title))])])])}))]):t._e(),t._v(" "),t.comingSoon.title?i("div",[i("h2",[t._v(t._s(t.comingSoon.title)+"\n        "),i("router-link",{staticClass:"more",attrs:{tag:"span",to:{name:"movie-list",query:{type:t.comingSoon.type}}}},[t._v("更多>\n        ")])],1),t._v(" "),i("div",{staticClass:"card"},t._l(t.comingSoon.subjects,function(e){return i("router-link",{staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"wp"},[i("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),i("div",{staticClass:"info"},[i("h3",[t._v(t._s(e.title))])])])}))]):t._e(),t._v(" "),i("spinner",{attrs:{show:t.loading}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",[i("svg",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"spinner",class:{show:t.show},attrs:{width:"68px",height:"68px",viewBox:"0 0 44 44"}},[i("circle",{staticClass:"path",attrs:{fill:"none","stroke-width":"4","stroke-linecap":"round",cx:"22",cy:"22",r:"20"}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"grid has-search-bar",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[i("h2",[t._v(t._s(t.movieList.title))]),t._v(" "),t.movieList.subjects.length>0?i("div",{staticClass:"card"},t._l(t.movieList.subjects,function(e){return i("router-link",{staticClass:"item",attrs:{to:{name:"movie-detail",params:{id:e.id}}}},[i("div",{staticClass:"cover"},[i("div",{staticClass:"wp"},[i("img",{staticClass:"img-show",attrs:{src:e.images.medium}})])]),t._v(" "),i("div",{staticClass:"info"},[i("h3",[t._v(t._s(e.title))])])])})):t._e(),t._v(" "),i("spinner",{attrs:{show:t.loading}})],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.e3f16df76469393cab28.js.map